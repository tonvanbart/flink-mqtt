<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>MQTT webclient example</title>
</head>
<body onload="mqttConnect()">

<script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.min.js" type="text/javascript"></script>
<script type="text/javascript">
    var mqtt;
    var reconnect = 2000;
    var host = "broker.hivemq.com";
    var port = 8000;

    function onConnect() {
        console.log("Connected");
        mqtt.subscribe("github.tonvanbart/wikiedits");
    }

    function onFailure() {
        alert("Connection to broker failed!");
    }

    function messageArrived(msg) {
        console.log("Topic: " + msg.destinationName + ", message: " + msg.payloadString)
        var mess

    }

    function mqttConnect() {
        console.log("Connecting to " + host +":" + port);
        mqtt = new Paho.MQTT.Client(host, port, "clientjs");
        var options = {
            timeout: 3,
            onSuccess: onConnect,
            onFailure: onFailure
        };
        mqtt.onMessageArrived = messageArrived;
        mqtt.connect(options);
    }
</script>
</body>
</html>